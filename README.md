# Pet App Kafka

Многоуровневая система управления информацией о котиках и их владельцах.  
Проект построен по микросервисной архитектуре с использованием Spring Boot, Spring Data JPA, Spring Security и обменом сообщений через Kafka.  

Система реализует функционал управления питомцами, владельцами и пользователями, а также предоставляет HTTP gateway для взаимодействия с внешними клиентами.

## Основной функционал

- Управление сущностями:
  - Котик (имя, дата рождения, порода, цвет, друзья)
  - Владелец (имя, дата рождения, список котиков)
  - Пользователь (аутентификация и роли)
- CRUD-операции для всех доменных моделей
- REST API с DTO для обмена данными
- Пагинация и фильтрация запросов
- Ролевой доступ:
  - Пользователь — просмотр информации о котиках, изменение своих питомцев
  - Администратор — полный доступ
- Защита endpoint’ов через Spring Security 6.x:
  - 401 Not Authorized — для неаутентифицированных
  - 403 Forbidden — при попытке изменить чужие данные
- Зашифрованное хранение паролей
- Микросервисы для котиков, владельцев и Web Gateway
- Взаимодействие сервисов через Kafka

## Архитектура проекта

- **Pet Service** — управление данными о котиках, отдельная база данных
- **Owner Service** — управление данными о владельцах, отдельная база данных
- **Web Gateway** — HTTP REST API, обращается к микросервисам через Kafka, хранит данные о пользователях и их ролях

## Используемые технологии

### Backend & Persistence
- Java 17+  
- Spring Boot  
- Spring Data JPA  
- PostgreSQL  
- DTO для передачи данных  

### Security
- Spring Security 6.x  
- Ролевой доступ (USER, ADMIN)  
- BCryptPasswordEncoder для хранения паролей  
- SecurityFilterChain для конфигурации  

### Messaging & Microservices
- Apache Kafka  
- KafkaTemplate для взаимодействия между микросервисами  

### Testing
- JUnit  
- MockMvc для тестирования REST API  

## Запуск проекта

1. Подготовить базы данных для каждого сервиса (Pet, Owner, Web Gateway)  
2. Убедиться, что Kafka запущена  
3. Запустить сервисы в следующем порядке:
   - Owner Service  
   - Pet Service  
   - Web Gateway  
4. Доступ к REST API через Web Gateway  
